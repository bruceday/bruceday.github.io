<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-cdc" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/10/31/cdc/" class="article-date">
  <time class="dt-published" datetime="2023-10-31T02:08:37.000Z" itemprop="datePublished">2023-10-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/10/31/cdc/">跨时钟域验证</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="为什么需要多个时钟？"><a href="#为什么需要多个时钟？" class="headerlink" title="为什么需要多个时钟？"></a>为什么需要多个时钟？</h2><p>现代芯片为了满足PPA（Performance,Power,Area），追求最大的性能，更低的功耗和更小的面积。一个简单的办法就是提高时钟频率，但是有三分之一功耗是时钟消耗的。因此，设计者要在功耗和性能两者取得一个折中。解决的方法是让多个不同的时钟处理不同的任务，性能要求高的用快时钟处理，性能要求低的用慢时钟处理。</p>
<h2 id="时钟域"><a href="#时钟域" class="headerlink" title="时钟域"></a>时钟域</h2><p>时钟域包含时钟和其所控制寄存器以及组合逻辑。大的设计通常会有数十个时钟域。这些时钟域之间的互连关系就构成了跨时钟域（CDC,clock domain crossings）。如图1所示是一个简单的CDC。<br><img src="/2023/10/31/cdc/figure1.png" alt="avatar"></p>
<h2 id="多时钟域带来什么问题？"><a href="#多时钟域带来什么问题？" class="headerlink" title="多时钟域带来什么问题？"></a>多时钟域带来什么问题？</h2><h3 id="亚稳态（Metastability）"><a href="#亚稳态（Metastability）" class="headerlink" title="亚稳态（Metastability）"></a>亚稳态（Metastability）</h3><h4 id="亚稳态及其成因"><a href="#亚稳态及其成因" class="headerlink" title="亚稳态及其成因"></a>亚稳态及其成因</h4><p><img src="/2023/10/31/cdc/figure2.png" alt="avatar"></p>
<h4 id="亚稳态解决方法"><a href="#亚稳态解决方法" class="headerlink" title="亚稳态解决方法"></a>亚稳态解决方法</h4><p>多位同步器<br><img src="/2023/10/31/cdc/figure3.png" alt="avatar"></p>
<h3 id="毛刺（Glitch）"><a href="#毛刺（Glitch）" class="headerlink" title="毛刺（Glitch）"></a>毛刺（Glitch）</h3><h4 id="毛刺及其成因"><a href="#毛刺及其成因" class="headerlink" title="毛刺及其成因"></a>毛刺及其成因</h4><p>如下所示为CDC convergence（重聚合）现象<br><img src="/2023/10/31/cdc/figure4.png" alt="avatar"></p>
<h4 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h4><p>产生毛刺的两个信号不在同一个时钟周期到达。</p>
<h3 id="总线不一致（Bus-Incoherency）"><a href="#总线不一致（Bus-Incoherency）" class="headerlink" title="总线不一致（Bus Incoherency）"></a>总线不一致（Bus Incoherency）</h3><h4 id="成因"><a href="#成因" class="headerlink" title="成因"></a>成因</h4><p><img src="/2023/10/31/cdc/figure5.png" alt="avatar"></p>
<h4 id="解决办法-1"><a href="#解决办法-1" class="headerlink" title="解决办法"></a>解决办法</h4><h3 id="数据丢失（Data-Loss）"><a href="#数据丢失（Data-Loss）" class="headerlink" title="数据丢失（Data Loss）"></a>数据丢失（Data Loss）</h3><h4 id="成因-1"><a href="#成因-1" class="headerlink" title="成因"></a>成因</h4><h4 id="解决办法-2"><a href="#解决办法-2" class="headerlink" title="解决办法"></a>解决办法</h4><p>握手协议<br><img src="/2023/10/31/cdc/figure6.png" alt="avatar"></p>
<p>FIFO<br><img src="/2023/10/31/cdc/figure7.png" alt="avatar"></p>
<h2 id="时钟网络的识别"><a href="#时钟网络的识别" class="headerlink" title="时钟网络的识别"></a>时钟网络的识别</h2><p>为了验证时钟结构，需要确定时钟信号和时钟信号衍生的时钟信号。然而，由于存在控制循环和时序转换使得找到时钟网络的边界是不寻常的。Hwever, a clock network includes sequential transformations, and control loops, which makes its boundaries not trivial to ﬁnd. For instance, structurally, there is no way to diﬀerentiate a conﬁguration register from a register which is part of the shaping logic (the cloud in Figure 3.1). Thus, the derived clocks cannot be restricted to the clock pins of the registers, and the conﬁguration signals cannot be restricted to the primary inputs. <u>The identiﬁcation of the clock paths and the control paths need to rely on heuristics.</u></p>
<p><img src="/2023/10/31/cdc/figure8.png" alt="avatar"></p>
<h3 id="Clock-Propagation"><a href="#Clock-Propagation" class="headerlink" title="Clock Propagation"></a>Clock Propagation</h3><p>时钟传播问题比较难。</p>
<h3 id="Conﬁguration-Signals"><a href="#Conﬁguration-Signals" class="headerlink" title="Conﬁguration Signals"></a>Conﬁguration Signals</h3><p>Conﬁguration signals are identiﬁed as the inputs to the clock network which are not on the clock path. A ﬁrst approximation would be to consider them as:</p>
<h3 id><a href="#" class="headerlink" title></a></h3><h2 id="结构分析"><a href="#结构分析" class="headerlink" title="结构分析"></a>结构分析</h2><h2 id="功能验证"><a href="#功能验证" class="headerlink" title="功能验证"></a>功能验证</h2><p>CDC涉及的主要的安全性验证，安全性验证本质上为状态机的可达性问题。</p>
<h3 id="通过模型检验验证安全性"><a href="#通过模型检验验证安全性" class="headerlink" title="通过模型检验验证安全性"></a>通过模型检验验证安全性</h3><h4 id="电路模型转化为Moore自动机"><a href="#电路模型转化为Moore自动机" class="headerlink" title="电路模型转化为Moore自动机"></a>电路模型转化为Moore自动机</h4><h4 id="-1"><a href="#-1" class="headerlink" title></a></h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/10/31/cdc/" data-id="cloe6q8h600032ktt11xb8a0j" data-title="跨时钟域验证" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/10/31/eco/">eco</a>
          </li>
        
          <li>
            <a href="/2023/10/31/design-pattern/">设计模式</a>
          </li>
        
          <li>
            <a href="/2023/10/31/coq/">coq</a>
          </li>
        
          <li>
            <a href="/2023/10/31/klee/">符号执行工具KLEE剖析</a>
          </li>
        
          <li>
            <a href="/2023/10/31/hardware-model-checking/">硬件模型检验</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>